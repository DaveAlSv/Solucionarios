\chapter{Produto Cartesiano, Relações e Funções}

\setcounter{ex}{0}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Prove que, se $A\subset C$ e $B\subset D$, então $A\times B\subset C\times D$.
\end{exercicio}
\begin{solucao}
	Se $A=\emptyset$ ou $B=\emptyset$, então pelo Exercício 1, $A\times B=\emptyset$ e temos trivialmente $A\times B\subset C\times D$. Suponha então que $A\times B\neq\emptyset$. Dado um par ordenado $(a,b)\in A\times B$, temos que $a\in A$ e $b\in B$. Uma vez que $A\subset C$ e $B\subset D$, então $a\in C$ e $b\in D$, logo $(a,b)\in C\times D$. Portanto $A\times B\subset C\times D$.
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Descreva todos os elementos de $\mathcal{P}(2\times 2)$.
\end{exercicio}
\begin{solucao}
	$$2=\{0,1\}\Rightarrow 2\times2=\{(0,0),(0,1),(1,0),(1,1)\}$$
	\begin{eqnarray*}
		\Rightarrow\mathcal{P}(2\times 2)&=&\{\emptyset,\{(0,0)\},\{(0,1)\},\{(1,0)\},\{(1,1)\},\{(0,0),(0,1)\}, \\
		&&\{(0,0),(1,0)\},\{(0,0),(1,1)\},\{(0,1),(1,0)\},\{(0,1),(1,1)\} \\
		&&\{(0,0),(0,1),(1,0)\},\{(0,0),(0,1),(1,1)\},\{(0,0),(1,0),(1,1)\} \\
		&&\{(0,1),(1,0),(1,1)\},\{(0,0),(1,0),(0,1),(1,1)\}\}
	\end{eqnarray*}
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Prove que $x^0=1$, para todo conjunto $x$, e explique o que isso significa.
\end{exercicio}
\begin{solucao}
	$x^0$ é o conjunto das funções de $0=\emptyset$ em $x$. Perceba inicialmente que $\emptyset\times x=\emptyset$ pelo Exercício 1, logo $\emptyset$ é uma relação. Afirmamos que essa relação é uma função. Com efeito, dizer que $\emptyset$ é função significa que se $a\emptyset b$ e $a\emptyset c$, então $b=c$. As afirmações $a\emptyset b$ e $a\emptyset c$ são ambas falsas, logo a sentença $((a\emptyset b)\wedge(a\emptyset c))\to(b=c)$ é verdadeira (independente de $b=c$ ser verdadeiro ou falso). Portanto $\emptyset$ é uma função. Note que $\dom(\emptyset)=\emptyset$.
	
	Afirmamos agora que $\emptyset$ é a única função cujo domínio é $\emptyset$. Com efeito, se $f:\emptyset\to x$ é uma função e $f\neq\emptyset$, então existe um par $(a,b)\in f$. Por definição de relação, $a\in\emptyset$ e $b\in x$, mas $a\in\emptyset$ é um absurdo. Logo $f=\emptyset$.
	
	Portanto $x^0=\{\emptyset\}=1$.
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Para qual(is) das seguintes definições alternativas de pares ordenados o teorema 4.2 continua valendo? Justifique.
	\begin{enumerate}[label=(\alph{*})]
		\item $(a,b)=\{a,\{b\}\}$;
		\item $(a,b)=\{\{a\},\{b\}\}$;
		\item $(a,b)=\{\{a\},\{\{b\}\}\}$;
		\item $(a,b)=\{\{0,a\},\{1,b\}\}$.
	\end{enumerate}
\end{exercicio}
\begin{solucao}
	\begin{enumerate}[label=(\alph{*})]
		\item Não vale, pois $(1,1)=(\{1\},0)=\{1,\{1\}\}$.
		\item Não vale, pois $(a,b)=\{\{a\},\{b\}\}=\{\{b\},\{a\}\}=(b,a)$, e isto contraria o teorema se $a\neq b$.
		\item Não vale, pois $(1,1)=(\{1\},0)=\{\{1\},\{\{1\}\}\}$.
		\item Suponha que $(a,b)=(c,d)$. Então $\{\{0,a\},\{1,b\}\}=\{\{0,c\},\{1,d\}\}$. Se $a=b$, então $(a,b)=\{\{0,a\},\{1,a\}\}$, logo $\{0,c\}=\{0,a\}$ (e $\{1,d\}=\{1,a\}$) ou $\{0,c\}=\{1,a\}$ (e $\{1,d\}=\{0,a\}$). No primeiro caso teremos $c=a$ e $d=a$, logo $d=b$. No segundo, não podemos ter $c=a$, pois assim teremos $0=1$. Então $c=1$ e $a=0$. Da mesma forma, $d=0$ e $a=1$. Disto concluímos que $a=0$ e $a=1$, um absurdo. Portanto este segundo caso não pode ocorrer. Assim só vale o primeiro caso, que é $c=a$ e $d=b(=a)$.
		
		Suponha agora que $a\neq b$. Então $\{0,a\}=\{0,c\}$ e $\{1,b\}=\{1,d\}$, logo $a=c$ e $b=d$, ou $\{0,a\}=\{1,d\}$ e $\{1,b\}=\{0,c\}$, mas este segundo caso não pode ocorrer pois isto gerará a conclusão de que $0=1$, como visto acima.
		
		Em ambos os casos esdudados, $a=c$ e $b=d$, logo o teorema é válido para esta definição de par ordenado.
	\end{enumerate}
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Dê exemplo de uma função sobrejetora de $\omega$ em $\omega$ que não é injetora.
\end{exercicio}
\begin{solucao}
	Pelo Teorema Fundamental da Aritmética, todo número natural $n\geq2$ pode ser escrito como um produto de números primos $n=p_1\cdots p_m$, e este produto é único a menos da ordem dos fatores. Esse teorema nos permite definir uma função $f:\omega\to\omega$ pondo $f(0)=0$, $f(1)=1$ e, para cada $n\geq2$, $f(n)=m$, em que $m$ é a quantidade de fatores primos na decomposição de $n$. $f$ é sobrejetiva, pois, por exemplo, para cada $m\in\omega$, $f(2^m)=m$, mas $f$ não é injetiva, pois, por exemplo, $f(2^m)=f(3^m)$ e $2^m\neq 3^m$ se $m\geq1$.
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Seja $X$ um conjunto e sejam $x_0$ e $y_0$ dois elementos distintos de $X$. Considere a relação em $X$:
	$$R=\{(x,y)\in X\times X:x=y\}\cup\{(x_0,y_0),(y_0,x_0)\}$$
	\begin{enumerate}[label=(\alph{*})]
		\item Prove que $R$ é uma relação de equivalência em $X$.
		\item Descreva os elementos de $X/R$.
	\end{enumerate}
\end{exercicio}
\begin{solucao}
	\begin{enumerate}[label=(\alph{*})]
		\item Devemos demonstrar que a relação $R$ é reflexiva, simétrica e transitiva. Em linguagem de primeira ordem:
		$$xRy\leftrightarrow(x=y)\vee(x=x_0\wedge y=y_0)\vee(x=y_0\wedge y=x_0).$$
		
		\textbf{Reflexividade:} Para qualquer $x\in X$, $x=x$, logo $xRx$.
		
		\textbf{Simetria:} Se $xRy$, temos os seguintes casos:
		\begin{enumerate}[label=Caso \arabic{*}.]
			\item $x=y$: Então $y=x$, logo $yRx$;
			\item $x=x_0$: Então $y=x_0$ ou $y=y_0$. Se $y=x_0$, teremos $y=x$, logo $yRx$. Se $y=y_0$, o par $(x_0,y_0)\in R$ pela definição de $R$. Como $(y_0,x_0)\in R$ por definição, temos que vale $y_0Rx_0$, logo $yRx$.
			\item $x=y_0$: É análogo ao caso 2.
		\end{enumerate}
		
		\textbf{Transitividade:} Se $xRy$ e $yRz$, temos os casos
		\begin{enumerate}[label=Caso \arabic{*}.]
			\item $x\neq x_0$ e $y\neq y_0$: Então $x=y$ e $y=z$, logo $x=z$ e, portanto, $xRz$.
			\item $x=x_0$ e $y\neq y_0$: Se $x=x_0$, então $y=x_0$ ou $y=y_0$, mas pela hipótese deste caso, deve-se ter $y=x_0$. Como também $yRz$, então $y=z$ ou $y=y_0$ e $z=x_0$ (este caso está descartado), ou $y=x_0$ e $z=y_0$. Então $z=x_0$ (logo $zRx$ que, por reflexividade, dá $xRz$) ou $z=y_0$ (que, pela definição de $R$, $x_0Ry_0$, logo $xRz$). Em qualquer caso $xRz$, que desejávamos.
			\item $x\neq x_0$ e $y=y_0$: Análogo ao caso 2.
			\item $x=x_0$ e $y=y_0$: Como $yRz$, então $z=y_0$ ou $z=x_0$. Em qualquer caso $xRz$ pela definição de $R$.
		\end{enumerate}
		
		Isto conclui a prova de que $R$ é uma relação de equivalência.
		
		\item Lembre que $[x]_R=\{y\in X:xRy\}$. Dividimos novamente em casos.
		\begin{enumerate}[label=Caso \arabic{*}.]
			\item $x\neq x_0$ e $x\neq y_0$: Então $xRy\leftrightarrow x=y$, logo $[x]_R=\{x\}$.
			\item $x= x_0$ e $x\neq y_0$: Então $xRy\leftrightarrow (x=y)\vee (y=y_0)$, logo $[x]_R=\{x_0,y_0\}$.
			\item $x\neq x_0$ e $x= y_0$: Então $xRy\leftrightarrow (x=y)\vee (y=x_0)$, logo $[x]_R=\{x_0,y_0\}$.
		\end{enumerate}
		
		Em resumo, $X/R=\{\{x\}:x\in X\setminus\{x_0,y_0\}\}\cup\{\{x_0,y_0\}\}.$
	\end{enumerate}
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Como fica uma relação de equivalência sobre $\emptyset$? Ela satisfaz o Teorema 4.28?
\end{exercicio}
\begin{solucao}
	Se $R$ é uma relação sobre $\emptyset$, então $R\subset \emptyset\times\emptyset=\emptyset$, logo $R=\emptyset$. $\emptyset$ é uma relação de equivalência, já que não existem elementos de $\emptyset$ para desmentir esta afirmação. As classes de equivalência são todas vazias, ou melhor, $\forall x \in \emptyset ([x]_{\emptyset}=\emptyset)$. Isto mostra que o item (b) do Teorema 4.28 não vale. Portanto $\emptyset$ não satisfaz o teorema.
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Dê exemplo ou prove que não existe.
	\begin{enumerate}[label=(\alph{*})]
		\item Uma ordem total que não é uma boa ordem.
		\item Uma árvore que não é uma ordem total.
		\item Um reticulado que não é árvore.
		\item Uma árvore que é um reticulado mas não é totalmente ordenado.
	\end{enumerate}
\end{exercicio}
\begin{solucao}
	\begin{enumerate}[label=(\alph{*})]
		\item $(\mathbb{Q},\leq)$ é uma ordem total, mas não é bem ordenado, por exemplo o conjunto $\{x\in\mathbb{Q}:x>0\}$ não possui elemento mínimo.
		\item Considerando o conjunto $X=\{0,1,2\}$ e a ordem $\leq=\{(0,0),(1,1),(2,2),(0,1),(0,2)\}$, $(X,\leq)$ é uma árvore, mas não é uma ordem total -- por exemplo, não podemos comparar 1 com 2.
		\item O conjunto $X=\{0,1,2,3\}$ com a ordem
		$$\leq=\{(0,0),(1,1),(2,2),(3,3),(0,1),(0,2),(0,3),(1,3),(2,3)\}$$
		é um reticulado, mas não é uma árvore.
		\item Seja $(X,\leq)$ uma árvore que é também um reticulado. Dados $x,y\in X$, o conjunto $\{x,y\}$ possui um supremo, que chamaremos $s$. O conjunto $S=\{z\in X:z\leq s\}$ é bem ordenado. Então o conjunto $\{x,y\}\subset S$ possui um elemento mínimo, que deve ser $x$ ou $y$, logo $x\leq y$ ou $y\leq x$. Portanto $(X,\leq)$ é totalmente ordenado. Isto mostra que não existe uma árvore que é um reticulado mas não é totalmente ordenada.
	\end{enumerate}
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Prove que $1+1=2$.
\end{exercicio}
\begin{solucao}
	\begin{eqnarray*}
		1+1&=&s(1)(1)=s(1)(0^+)=(s(1)(0))^+=1^+ \\
		&=&1\cup\{1\}=\{0\}\cup\{\{0\}\}=\{0,\{0\}\} \\
		&=&\{0,1\} \\
		&=&2.
	\end{eqnarray*}
\end{solucao}

\begin{exercicio}
	content
\end{exercicio}
\begin{solucao}
	content
\end{solucao}

\begin{exercicio}
	Use o teorema da recursão e as operações de adição e multiplicação para definir cada uma das seguintes funções de domínio $\omega$. Em cada item, utilize a versão do teorema da recursão mais adequada.
	\begin{enumerate}[label=(\alph{*})]
		\item a função $f(n)=2^n$;
		\item o fatorial, isto é, $f(n)=n!$, onde $0!=1$ e $(n+1)!=(n+1)\cdot n!$;
		\item a sequência de Fibonacci, ou seja, a função $f:\omega\to\omega$ tal que $f(0)=f(1)=1$ e $f(n+2)=f(n)+f(n+1)$.
	\end{enumerate}
\end{exercicio}
\begin{solucao}
	\begin{enumerate}[label=(\alph{*})]
		\item Para cada $n$ podemos escrever $f(n+1)=2^{n+1}=2\cdot 2^n=2\cdot f(n)$. Isto nos motiva a definir $g:\omega\to\omega$ por $g(x)=2x$. Pelo Teorema da Recursão Finita, existe uma única função $f:\omega\to\omega$ tal que $f(0)=1$ e $f(n+1)=g(f(n))=2\cdot f(n)$.
		\item Para cada $n$ podemos escrever $f(n+1)=(n+1)!=(n+1)\cdot n!=(n+1)\cdot f(n)$. Isto nos motiva a definir $g:\omega\times\omega\to\omega$ por $g(x,y)=(x+1)\cdot y$. Pelo Teorema da Recursão Finita com Parâmetro, existe uma única função $f:\omega\to\omega$ tal que $f(0)=1$ e $f(n+1)=g(n,f(n))=(n+1)\cdot f(n)$.
		\item Defina $g:\omega^{<\omega}\to \omega$ por
		$$
		g(x)=\left\{
			\begin{array}{ll}
				1,&\mathrm{se}\ \dom x=0 \vee \dom x=1 \\
				x(n-1)+x(n-2),& \mathrm{se}\ \dom x=n>1.
			\end{array}
		\right.
		$$
		Pelo Teorema da Recursão Completa, existe uma única função $f:\omega\to\omega$ tal que $f(n)=g(f|n)$. Perceba que
		$$f(0)=g(f|0)=1 \qquad \mathrm{e} \qquad f(1)=g(f|1)=1,$$
		pois, pela definição de $g$, $g(x)=1$ se $\dom x=0$ ou $\dom x=1$. Para $n>1$, pela definição de $g$,
		$f(n)=g(f|n)=f(n-1)+f(n-2)$. Isto mostra que a função descrita no exercício existe de fato.
	\end{enumerate}
\end{solucao}